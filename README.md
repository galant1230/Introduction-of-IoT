# 🚭 智慧非吸菸區取締系統

## 📌 Description
本專案開發一套 **智慧監測系統**，透過 **影像辨識與粉塵感測技術**，自動監控 **禁菸區內的違規吸菸行為**，  
無需人力監督，即可偵測吸菸者、記錄證據並回傳數據，有效降低監管成本並提升取締效率。

### 🎯 **系統目標**
- 監測禁菸區內是否有人違規吸菸
- 透過影像辨識技術偵測吸菸行為
- 透過 PM2.5 感測器判斷煙霧濃度
- 使用 **LoRa** 傳輸數據至運算中心
- 自動存取違規者照片與時間記錄

---

## 🛠 **System Architecture**
本系統分為 **前端監測裝置** 與 **後端伺服器處理** 兩部分。

### 🔹 **1️⃣ 取締區設備**
- **攝影機**：用於影像蒐集，透過 **Mobilenet_v2 影像辨識模型** 確認是否有違規者
- **GP2Y1014AU 粉塵感測器**：偵測 PM2.5 濃度，作為吸菸行為輔助判斷依據
- **LoRa 傳輸模組**：負責將感測數據傳送至後端伺服器

### 🔹 **2️⃣ 後端伺服器**
- **影像處理**：透過 **Mobilenet_v2 深度學習模型** 進行違規者偵測
- **數據分析**：判斷 **PM2.5 是否超過閾值**
- **違規記錄**：自動存儲違規者的照片、時間與 PM2.5 數據

---

## 📊 **影像辨識與粉塵感測技術**
### 🖼 影像辨識（Mobilenet_v2）
- 使用 Google **Mobilenet_v2** 物件偵測模型
- 透過影像分類技術，辨識取締區內是否有人
- 若發現人員，則進一步分析是否違規吸菸

### 🌫 粉塵感測（PM2.5）
- 使用 **GP2Y1014AU** 感測器測量 PM2.5 濃度
- 若 PM2.5 **超過閾值**，則判定該區域可能有吸菸行為
- 透過 **LoRa 模組** 傳輸數據至伺服器

---

## 📈 **實驗結果**
本系統於 **台大電機二館** 違規熱區進行測試，並針對三種情境進行驗證：

| 監測情境 | 無人無煙霧 | 有人無煙霧 | 有人且有煙霧 |
|---------|----------|----------|------------|
| 是否觸發警報 | ❌ | ❌ | ✅ |

- **情境 1：無人無煙霧** → 無警報，系統運作正常
- **情境 2：有人無煙霧** → 無警報，避免誤報
- **情境 3：有人且有煙霧** → 觸發警報，並自動存取違規者照片與 PM2.5 數據

---

## ⚙ **系統設備與技術**
- **感測器**：GP2Y1014AU 粉塵感測器
- **影像辨識模型**：Mobilenet_v2（Google TensorFlow Hub）
- **無線通訊**：LoRa 傳輸數據
- **影像處理**：Python + OpenCV
- **系統控制**：Arduino + Raspberry Pi

---

## 📎 References
- **Mobilenet_v2（Google TensorFlow Hub）**：[官方網站](https://tfhub.dev/google/openimages_v4/ssd/mobilenet_v2/1)
- **PM2.5 粉塵感測器 GP2Y1014AU**：[規格說明](https://www.sparkfun.com/products/14193)
- **LoRa 無線傳輸技術**：[LoRa Alliance](https://lora-alliance.org/)

